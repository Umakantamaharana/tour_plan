<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Trip Planner</title>
    
    <!-- Link Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Optional: Add custom styling -->
    <style>
        body {
            background-color: #f7fafc;
        }
        h1 {
            font-size: 2.5rem;
        }
        label {
            font-weight: bold;
        }
    </style>
</head>
<body class="flex justify-center h-screen bg-gray-100">

    <div class="container mx-auto p-8 bg-white shadow-md rounded-md">
        <h1 class="text-3xl font-bold text-center mb-8">Indian Trip Planner</h1>

        <form id="trip-form" class="grid grid-cols-1 gap-6" action="/generate_prompt" method="post">
            <!-- City and Duration Inputs -->
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label for="city1" class="block text-gray-700">City 1:</label>
                    <input type="text" id="city1" name="city1" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
                <div>
                    <label for="duration1" class="block text-gray-700">Duration 1:</label>
                    <input type="number" id="duration1" name="duration1" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label for="city2" class="block text-gray-700">City 2:</label>
                    <input type="text" id="city2" name="city2" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
                <div>
                    <label for="duration2" class="block text-gray-700">Duration 2:</label>
                    <input type="number" id="duration2" name="duration2" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label for="city3" class="block text-gray-700">City 3:</label>
                    <input type="text" id="city3" name="city3" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
                <div>
                    <label for="duration3" class="block text-gray-700">Duration 3:</label>
                    <input type="number" id="duration3" name="duration3" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
            </div>

            <!-- Connection Inputs -->
            <div class="grid grid-cols-3 gap-4">
                <div>
                    <label for="con1" class="block text-gray-700">Connection 1:</label>
                    <input type="text" id="con1" name="con1" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md">
                </div>
                <div>
                    <label for="con2" class="block text-gray-700">Connection 2:</label>
                    <input type="text" id="con2" name="con2" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md">
                </div>
                <div>
                    <label for="con3" class="block text-gray-700">Connection 3:</label>
                    <input type="text" id="con3" name="con3" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md">
                </div>
            </div>

            <!-- Budget Inputs -->
            <div class="grid grid-cols-3 gap-4">
                <div>
                    <label for="budget1" class="block text-gray-700">Budget 1:</label>
                    <input type="number" id="budget1" name="budget1" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
                <div>
                    <label for="budget2" class="block text-gray-700">Budget 2:</label>
                    <input type="number" id="budget2" name="budget2" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
                <div>
                    <label for="budget3" class="block text-gray-700">Budget 3:</label>
                    <input type="number" id="budget3" name="budget3" class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md" required>
                </div>
            </div>

            <div class="flex justify-center">
                <input type="submit" value="Generate Prompt" class="bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600">
            </div>
        </form>

        <h2 class="text-xl font-semibold mt-8 text-center">Generated Prompt</h2>
        <p id="prompt-display" class="text-gray-700 bg-gray-100 p-4 rounded-md"></p>

        <div class="flex justify-center mt-4">
            <button id="plan-button" style="display:none;" class="bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-600">Plan</button>
        </div>

        <h2 class="text-xl font-semibold mt-8 text-center">LLM Response</h2>
        <p id="llm-response" class="text-gray-700 bg-gray-100 p-4 rounded-md"></p>
    </div>

    <script>
        const form = document.getElementById('trip-form');
        const promptDisplay = document.getElementById('prompt-display');
        const planButton = document.getElementById('plan-button');
        const llmResponse = document.getElementById('llm-response');

        form.addEventListener('submit', async function (event) {
            event.preventDefault();
            const formData = new FormData(form);
            const response = await fetch('/generate_prompt', {
                method: 'POST',
                body: formData
            });
            const data = await response.json();
            promptDisplay.textContent = data.prompt;
            planButton.style.display = 'block';
        });

        planButton.addEventListener('click', async function () {
            const prompt = promptDisplay.textContent;
            const response = await fetch('/plan_trip', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ prompt })
            });
            const data = await response.json();
            llmResponse.textContent = data.response;
        });
    </script>

</body>
</html>

